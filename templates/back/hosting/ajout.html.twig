{% extends 'back/base.html.twig' %}

{% form_theme form 'back/form/form_errors.html.twig' %}

{% block title %}Back-Office - Gestion d'hébergement'{% endblock %}

{% block body %}

    <div class="modal-shiftfix">
    
        {% include 'back/partials/navigation.html.twig' %}

        <div class="container-fluid main-content">
            <div class="row">
                <div class="col-md-12">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="widget-container fluid-height">
                                <div class="heading">
                                    <i class="fa fa-user"></i>{{ nom_hosting | raw }}
                                </div>
                                <div class="widget-content padded">
                                    {{ form_start( form ) }}
                                    
                                    <div class="row">
                                        <div class="col-md-6 form-group">
                                            <label class="control-label col-md-2">{{ form_label( form.site ) }}</label>
                                            <div class="col-md-10">
                                                {% if form.site.vars.valid %}
                                                    <div class="input-group">
                                                        <span class="input-group-addon icone">http://</span>
                                                        {{ form_widget( form.site, { 'attr' : { 'class' : 'form-control' } } ) }}
                                                    </div>
                                                {% else %}
                                                    <div class="has-error">
                                                        <div class="input-group">
                                                            <span class="input-group-addon icone">http://</span>
                                                            {{ form_widget( form.site, { 'attr' : { 'class' : 'form-control' } } ) }}
                                                            <span class="input-group-addon"><i class="fa fa-exclamation-triangle"></i></span>
                                                        </div>
                                                        
                                                        {{ form_errors( form.site ) }}
                                                    </div>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="col-md-3 form-group">
                                            <label class="control-label col-md-3">{{ form_label( form.client ) }}</label>
                                            <div class="col-md-9">{{ form_widget( form.client, { 'attr' : { 'class' : 'form-control' } } ) }}</div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-3 form-group">
                                            <label class="control-label col-md-4">{{ form_label( form.debut ) }}</label>
                                            <div class="col-md-8">
                                                {% if form.debut.vars.valid %}
                                                    <div class="input-group">
                                                        <span val="debut" class="input-group-addon icone"><i class="fa fa-calendar"></i></span>
                                                        {{ form_widget( form.debut, { 'attr' : { 'class' : 'form-control' } } ) }}
                                                    </div>
                                                {% else %}
                                                    <div class="has-error">
                                                        <div class="input-group">
                                                            <span val="debut" class="input-group-addon icone"><i class="fa fa-calendar"></i></span>
                                                            {{ form_widget( form.debut, { 'attr' : { 'class' : 'form-control' } } ) }}
                                                            <span class="input-group-addon"><i class="fa fa-exclamation-triangle"></i></span>
                                                        </div>
                                                        
                                                        {{ form_errors( form.debut ) }}
                                                    </div>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="col-md-3 form-group">
                                            <label class="control-label col-md-4">{{ form_label( form.fin ) }}</label>
                                            <div class="col-md-8">
                                                {% if form.fin.vars.valid %}
                                                    <div class="input-group">
                                                        <span val="fin" class="input-group-addon icone"><i class="fa fa-calendar"></i></span>
                                                        {{ form_widget( form.fin, { 'attr' : { 'class' : 'form-control' } } ) }}
                                                    </div>
                                                {% else %}
                                                    <div class="has-error">
                                                        <div class="input-group">
                                                            <span val="fin" class="input-group-addon icone"><i class="fa fa-calendar"></i></span>
                                                            {{ form_widget( form.fin, { 'attr' : { 'class' : 'form-control' } } ) }}
                                                            <span class="input-group-addon"><i class="fa fa-exclamation-triangle"></i></span>
                                                        </div>
                                                        
                                                        {{ form_errors( form.fin ) }}
                                                    </div>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <div class="col-md-3 form-group">
                                            <label class="control-label col-md-3">{{ form_label( form.prix ) }}</label>
                                            <div class="col-md-9">
                                                {% if form.prix.vars.valid %}
                                                    <div class="input-group">
                                                        <span class="input-group-addon icone">€</span>
                                                        {{ form_widget( form.prix, { 'attr' : { 'class' : 'form-control' } } ) }}
                                                    </div>
                                                {% else %}
                                                    <div class="has-error">
                                                        <div class="input-group">
                                                            <span class="input-group-addon icone">€</span>
                                                            {{ form_widget( form.prix, { 'attr' : { 'class' : 'form-control' } } ) }}
                                                            <span class="input-group-addon"><i class="fa fa-exclamation-triangle"></i></span>
                                                        </div>
                                                        
                                                        {{ form_errors( form.prix ) }}
                                                    </div>
                                                {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                        
                                    <!-- Boutons -->
                                    <div class="row">
                                        <div class="col-md-4 form-group">
                                            <div class="col-md-3">&nbsp;</div>
                                            <div class="col-md-9">
                                                <a href="{{ path( "bo_hosting_liste" ) }}" class="btn btn-default">Retour</a>
                                                <button type="submit" class="btn btn-primary">{{texte_btn}}</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    {{ form_end(form) }}

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
    
{% block javascripts %}

    <script>

        $(document).ready(function() {
            
            // ------------ Datepicker ---------------------------------------------------------- //
            if ( 1 == 1 ) {
                
                $( "#hosting_debut, #hosting_fin" ).datepicker({
                    dateFormat: 				    'dd/mm/yy',
                    language:					    'fr',
                });
                
                $( ".icone" ).click(function() {
                    $( "#hosting_" + $(this).attr( "val" ) ).focus();
                });
                
            }
            // ---------------------------------------------------------------------------------- //

        });

    </script>

{% endblock %}
